"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5074],{8608:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>a});var i=l(4848),s=l(8453);const t={},c="Installing LLVM",r={id:"LLVM/llvm_techniques/Section 1/install",title:"Installing LLVM",description:"Host Machine",source:"@site/docs/LLVM/llvm_techniques/Section 1/1_install.md",sourceDirName:"LLVM/llvm_techniques/Section 1",slug:"/LLVM/llvm_techniques/Section 1/install",permalink:"/docs/LLVM/llvm_techniques/Section 1/install",draft:!1,unlisted:!1,editUrl:"https://github.com/syed-ahmed/syed-ahmed.github.io/blob/main/website/docs/LLVM/llvm_techniques/Section 1/1_install.md?plain=1",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Anatomy of a Static Analysis",permalink:"/docs/LLVM/CIS 547 Software Analysis/Module 1: Introduction to Software Analysis/static_analysis_anatomy"},next:{title:"Exploring LLVM's Build System Features",permalink:"/docs/LLVM/llvm_techniques/Section 1/llvm_repo"}},d={},a=[{value:"Host Machine",id:"host-machine",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Build",id:"build",level:2},{value:"Useful LLVM/CMake Variables",id:"useful-llvmcmake-variables",level:2}];function o(n){const e={code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"installing-llvm",children:"Installing LLVM"}),"\n",(0,i.jsx)(e.h2,{id:"host-machine",children:"Host Machine"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz"}),"\n",(0,i.jsx)(e.li,{children:"40 GB RAM"}),"\n",(0,i.jsx)(e.li,{children:"1 TB SSD"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"git 2.25.1"}),"\n",(0,i.jsx)(e.li,{children:"cmake 3.16.3"}),"\n",(0,i.jsx)(e.li,{children:"ninja 1.10.0"}),"\n",(0,i.jsx)(e.li,{children:"clang++ 10.0.0"}),"\n",(0,i.jsx)(e.li,{children:"python 3.8.10"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"build",children:"Build"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Use ninja instead of make."}),"\n",(0,i.jsx)(e.li,{children:"Use lld or gold for the linker."}),"\n",(0,i.jsxs)(e.li,{children:["Build with ",(0,i.jsx)(e.code,{children:"RelWithDebInfo"})," to save on memory\nbut have some debug info."]}),"\n",(0,i.jsx)(e.li,{children:"Specify the target to save time on compilation."}),"\n",(0,i.jsx)(e.li,{children:"Build shared library instead of static."}),"\n",(0,i.jsx)(e.li,{children:"Build optimized tblgen to save compilation time."}),"\n",(0,i.jsx)(e.li,{children:"Use clang++ to build using the new PassManager and\nsave on compile time."}),"\n",(0,i.jsx)(e.li,{children:"Example commands:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'git clone --branch llvmorg-12.0.0 https://github.com/llvm/llvm-project\ncd llvm-project\nmkdir build\ncd build\ncmake -G Ninja \\\n\t  -DCMAKE_C_COMPILER=clang \\\n\t  -DCMAKE_CXX_COMPILER=clang++ \\\n\t  -DLLVM_ENABLE_PROJECTS="clang;compiler-rt" \\\n\t  -DLLVM_ENABLE_RUNTIMES="compiler-rt" \\\n\t  -DCMAKE_BUILD_TYPE=RelWithDebInfo \\\n\t  -DLLVM_USE_LINKER=lld \\\n\t  -DLLVM_TARGETS_TO_BUILD="X86" \\\n\t  -DBUILD_SHARED_LIBS=ON \\\n\t  -DLLVM_OPTIMIZED_TABLEGEN=ON \\\n\t  -DLLVM_USE_NEWPM=ON \\\n\t  ../llvm\nninja -j8\nninja check-all\n'})}),"\n",(0,i.jsx)(e.h2,{id:"useful-llvmcmake-variables",children:"Useful LLVM/CMake Variables"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"CMAKE_INSTALL_PREFIX"}),"\n",(0,i.jsx)(e.li,{children:"CMAKE_BUILD_TYPE"}),"\n",(0,i.jsx)(e.li,{children:"CMAKE_C_FLAGS"}),"\n",(0,i.jsx)(e.li,{children:"CMAKE_CXX_FLAGS"}),"\n",(0,i.jsx)(e.li,{children:"CMAKE_MODULE_PATH"}),"\n",(0,i.jsx)(e.li,{children:"PYTHON_EXECUTABLE"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_TARGETS_TO_BUILD"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_ENABLE_PROJECTS"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_ENABLE_ASSERTIONS"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_ENABLE_EXPENSIVE_CHECKS"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_APPEND_VC_REV"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_ENABLE_THREADS"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_ENABLE_EH"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_ENABLE_RTTI"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_ENABLE_WARNINGS"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_ENABLE_PEDANTIC"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_ENABLE_WERROR"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_OPTIMIZED_TABLEGEN"}),"\n",(0,i.jsx)(e.li,{children:"LLVM_USE_SPLIT_DWARF"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},8453:(n,e,l)=>{l.d(e,{R:()=>c,x:()=>r});var i=l(6540);const s={},t=i.createContext(s);function c(n){const e=i.useContext(t);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);